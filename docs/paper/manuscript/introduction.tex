%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}
\label{introduction}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Context: SPL derivation tools

A Software Product Line (SPL) is a set of software-intensive systems that share a common, managed set of features satisfying the specific needs of a particular market segment or mission and that are developed from a common set of core assets in a prescribed way~\cite{spl-book}. Potential benefits include improved productivity with lower development costs and time-to-market and increased quality. To achieve these benefits, tool support for the underlying activities is essential. In particular, this holds for Application Engineering, in which a product is defined by selecting a group of features and then parts of different components are carefully combined with the help of product derivation tools. Given the inherent complexity and the coordination required in the derivation process~\cite{griss}, the derivation of individual products from shared software assets is a laborious, error-prone, and expensive activity in practice~\cite{deelstra:2005}. Overall, the present paper is concerned with product derivation tools and the underlying process of product derivation.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Problem:
%  - lack of configurability and flexibility
%  - absence of systematic handling of variability of tools

As reported by a contemporary Systematic Literature Review and expert survey~\cite{ist-2010}, key requirements of product derivation tools are configurability and flexibility, which the same study identifies as shortcoming of most existing tools. That is, derivation tools must be adapted to different contexts, e.g., dealing with any combination of different artifacts. For instance, a given tool may target artifacts such as business process models, requirement models, and source code. However, different tool configurations should be feasible so that, for example, 
only target artifacts of interest are selected. Additionally, the changing needs of users and the continuous evolution of product lines further motivate flexibility and configurability of product derivation tools for addressing future needs, e.g., dealing with new artifacts such as new kinds of models, e.g., architectural models, if it was not considered previously. (We may also speak of extensibility instead of flexibility, if we want to emphasize that new artifacts or variability mechanisms are to be accommodated.) Ultimately, without a supporting process, dealing with such variability drivers is not effective.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Solution:
% - development of Hephaestus-PL (analysis, design, implementation)
% - reactive (evolution) process

The requested configurability, flexibility, and extensibility may be obtainable, if the variability within tools for product derivation is managed by architecting the tools themselves as SPLs, as also suggested by Gr{\"u}nbacher et al.~\cite{grunbacher:2008}. Despite existing efforts in this direction~\cite{grunbacher:2011,grunbacher:2008,batory-ahead-bootstrap}, management of the variability in new artifacts and combinations of artifacts as well as associated variability mechanisms for those artifacts has not been addressed. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection*{Contribution of the paper}

\begin{itemize}

\item We describe an effort which enhanced the existing \hp{} tool for software product lines into \hpl---a proper
  product line for product derivation tools. To this end, we describe domain analysis, design, and implementation of \hpl. In this manner, the present paper provides evidence for the feasibility of configurable, flexible, and extensible tools for product derivation.

\item We describe a process for evolving \hpl{} to address new artifacts. That is, \hpl{} is supported by a process allowing instantiating product line tools for modeling variability in new artifacts. An assessment reveals that \hpl{} has improved configurability and flexibility when compared to previous evolution of \hp. In this manner, the present paper provides evidence for the effectiveness of addressing the problem of configurable, flexible, and extensible tools for product derivation.

\end{itemize}

We believe that these contributions could be leveraged to other contexts in which configurability, flexibility, extensibility of tools for product derivation are key requirements. \hpl{} is publicly available  and has been developed by managing commonality and variability from existing variants of \hp~\cite{rbonifacio:sbcars2009}, a SPL tool developed in Haskell and originally aimed at managing variability in use case scenarios, but which has evolved to handle variability independently in different kinds of artifacts (a detailed description of \hp, including usage scenarios can be found elsewhere~\cite{rbonifacio:sbcars2009}). \hpl's design is centered around bootstrapping--with a kernel representing the key common elements of the existing \hp{} variants--and whose variability management was implemented using metaprogramming in Haskell.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection*{Road-map of the paper}

The remainder of this paper is organized as follows. First, Section~\ref{sec:hephaestus} briefly describes \hp{} and its evolution to address different artifacts. Next, based on such versions of \hp, Sections~\ref{sec:domainAnalysis} and~\ref{sec:domainDesign} presents the domain analysis and design of \hpl, respectively, whereas its implementation is explained in Section~\ref{sec:implementation}. Section~\ref{sec:process} then presents a supporting process for extending \hpl, and  Section~\ref{sec:results-discussion} provides an assessment and discussion of \hpl. Related work is addressed in Section~\ref{related-work}, and Section~\ref{conclusion} offers concluding remarks.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%